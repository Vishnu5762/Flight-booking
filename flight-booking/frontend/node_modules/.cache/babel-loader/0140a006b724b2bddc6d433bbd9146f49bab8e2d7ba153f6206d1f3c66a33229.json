{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Desktop\\\\protifolio\\\\FlightBooking_Application\\\\flight-booking\\\\frontend\\\\src\\\\pages\\\\userBookings.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getUserBookings } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserBookings = () => {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const user = JSON.parse(localStorage.getItem('user'));\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    const fetchBookings = async () => {\n      if (!user || !token) {\n        setLoading(false);\n        return;\n      }\n      try {\n        const response = await getUserBookings(user._id);\n        // handle both {data: []} or [] response\n        const fetchedBookings = (response === null || response === void 0 ? void 0 : response.data) || response || [];\n        setBookings(fetchedBookings);\n      } catch (err) {\n        console.error('‚ùå Error fetching bookings:', err);\n        alert('Failed to load bookings. Please try logging in again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBookings();\n  }, [user, token]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading your bookings...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 23\n  }, this);\n  if (!user || !token) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Please log in to view your bookings.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '1rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCD6 My Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), bookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No bookings found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : bookings.map(booking => {\n      const flight = booking.flight || {};\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ccc',\n          padding: '1rem',\n          marginBottom: '1rem',\n          borderRadius: '8px',\n          backgroundColor: '#f9f9f9'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\u2708\\uFE0F \", flight.airline || 'Unknown Airline', \" -\", ' ', flight.flightNumber || 'N/A']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"From: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: flight.source || flight.from || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 23\n          }, this), \" \\u2192 To:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: flight.destination || flight.to || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Departure:\", ' ', flight.departureTime ? new Date(flight.departureTime).toLocaleString() : 'N/A']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Arrival:\", ' ', flight.arrivalTime ? new Date(flight.arrivalTime).toLocaleString() : 'N/A']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Seats Booked: \", booking.seatsBooked || 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total Price: \\u20B9\", booking.totalPrice || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this)]\n      }, booking._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(UserBookings, \"PE5FI0kJoD0YQqBBR2XHHfm8FkE=\");\n_c = UserBookings;\nexport default UserBookings;\nvar _c;\n$RefreshReg$(_c, \"UserBookings\");","map":{"version":3,"names":["React","useEffect","useState","getUserBookings","jsxDEV","_jsxDEV","UserBookings","_s","bookings","setBookings","loading","setLoading","user","JSON","parse","localStorage","getItem","token","fetchBookings","response","_id","fetchedBookings","data","err","console","error","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","length","map","booking","flight","border","marginBottom","borderRadius","backgroundColor","airline","flightNumber","source","from","destination","to","departureTime","Date","toLocaleString","arrivalTime","seatsBooked","totalPrice","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/protifolio/FlightBooking_Application/flight-booking/frontend/src/pages/userBookings.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getUserBookings } from '../services/api';\r\n\r\nconst UserBookings = () => {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n  const token = localStorage.getItem('token');\r\n\r\n  useEffect(() => {\r\n    const fetchBookings = async () => {\r\n      if (!user || !token) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await getUserBookings(user._id);\r\n        // handle both {data: []} or [] response\r\n        const fetchedBookings = response?.data || response || [];\r\n        setBookings(fetchedBookings);\r\n      } catch (err) {\r\n        console.error('‚ùå Error fetching bookings:', err);\r\n        alert('Failed to load bookings. Please try logging in again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBookings();\r\n  }, [user, token]);\r\n\r\n  if (loading) return <p>Loading your bookings...</p>;\r\n\r\n  if (!user || !token)\r\n    return <p>Please log in to view your bookings.</p>;\r\n\r\n  return (\r\n    <div style={{ padding: '1rem' }}>\r\n      <h2>üìñ My Bookings</h2>\r\n\r\n      {bookings.length === 0 ? (\r\n        <p>No bookings found.</p>\r\n      ) : (\r\n        bookings.map((booking) => {\r\n          const flight = booking.flight || {};\r\n          return (\r\n            <div\r\n              key={booking._id}\r\n              style={{\r\n                border: '1px solid #ccc',\r\n                padding: '1rem',\r\n                marginBottom: '1rem',\r\n                borderRadius: '8px',\r\n                backgroundColor: '#f9f9f9',\r\n              }}\r\n            >\r\n              <h3>\r\n                ‚úàÔ∏è {flight.airline || 'Unknown Airline'} -{' '}\r\n                {flight.flightNumber || 'N/A'}\r\n              </h3>\r\n              <p>\r\n                From: <strong>{flight.source || flight.from || 'N/A'}</strong> ‚Üí To:{' '}\r\n                <strong>{flight.destination || flight.to || 'N/A'}</strong>\r\n              </p>\r\n              <p>\r\n                Departure:{' '}\r\n                {flight.departureTime\r\n                  ? new Date(flight.departureTime).toLocaleString()\r\n                  : 'N/A'}\r\n              </p>\r\n              <p>\r\n                Arrival:{' '}\r\n                {flight.arrivalTime\r\n                  ? new Date(flight.arrivalTime).toLocaleString()\r\n                  : 'N/A'}\r\n              </p>\r\n              <p>Seats Booked: {booking.seatsBooked || 1}</p>\r\n              <p>\r\n                Total Price: ‚Çπ{booking.totalPrice || 0}\r\n              </p>\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserBookings;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,eAAe,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAMU,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,MAAMC,KAAK,GAAGF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3Cf,SAAS,CAAC,MAAM;IACd,MAAMiB,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI,CAACN,IAAI,IAAI,CAACK,KAAK,EAAE;QACnBN,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;MAEA,IAAI;QACF,MAAMQ,QAAQ,GAAG,MAAMhB,eAAe,CAACS,IAAI,CAACQ,GAAG,CAAC;QAChD;QACA,MAAMC,eAAe,GAAG,CAAAF,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEG,IAAI,KAAIH,QAAQ,IAAI,EAAE;QACxDV,WAAW,CAACY,eAAe,CAAC;MAC9B,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;QAChDG,KAAK,CAAC,uDAAuD,CAAC;MAChE,CAAC,SAAS;QACRf,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDO,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACN,IAAI,EAAEK,KAAK,CAAC,CAAC;EAEjB,IAAIP,OAAO,EAAE,oBAAOL,OAAA;IAAAsB,QAAA,EAAG;EAAwB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEnD,IAAI,CAACnB,IAAI,IAAI,CAACK,KAAK,EACjB,oBAAOZ,OAAA;IAAAsB,QAAA,EAAG;EAAoC;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEpD,oBACE1B,OAAA;IAAK2B,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAN,QAAA,gBAC9BtB,OAAA;MAAAsB,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEtBvB,QAAQ,CAAC0B,MAAM,KAAK,CAAC,gBACpB7B,OAAA;MAAAsB,QAAA,EAAG;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,GAEzBvB,QAAQ,CAAC2B,GAAG,CAAEC,OAAO,IAAK;MACxB,MAAMC,MAAM,GAAGD,OAAO,CAACC,MAAM,IAAI,CAAC,CAAC;MACnC,oBACEhC,OAAA;QAEE2B,KAAK,EAAE;UACLM,MAAM,EAAE,gBAAgB;UACxBL,OAAO,EAAE,MAAM;UACfM,YAAY,EAAE,MAAM;UACpBC,YAAY,EAAE,KAAK;UACnBC,eAAe,EAAE;QACnB,CAAE;QAAAd,QAAA,gBAEFtB,OAAA;UAAAsB,QAAA,GAAI,eACC,EAACU,MAAM,CAACK,OAAO,IAAI,iBAAiB,EAAC,IAAE,EAAC,GAAG,EAC7CL,MAAM,CAACM,YAAY,IAAI,KAAK;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC,eACL1B,OAAA;UAAAsB,QAAA,GAAG,QACK,eAAAtB,OAAA;YAAAsB,QAAA,EAASU,MAAM,CAACO,MAAM,IAAIP,MAAM,CAACQ,IAAI,IAAI;UAAK;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eAAM,EAAC,GAAG,eACxE1B,OAAA;YAAAsB,QAAA,EAASU,MAAM,CAACS,WAAW,IAAIT,MAAM,CAACU,EAAE,IAAI;UAAK;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eACJ1B,OAAA;UAAAsB,QAAA,GAAG,YACS,EAAC,GAAG,EACbU,MAAM,CAACW,aAAa,GACjB,IAAIC,IAAI,CAACZ,MAAM,CAACW,aAAa,CAAC,CAACE,cAAc,CAAC,CAAC,GAC/C,KAAK;QAAA;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACJ1B,OAAA;UAAAsB,QAAA,GAAG,UACO,EAAC,GAAG,EACXU,MAAM,CAACc,WAAW,GACf,IAAIF,IAAI,CAACZ,MAAM,CAACc,WAAW,CAAC,CAACD,cAAc,CAAC,CAAC,GAC7C,KAAK;QAAA;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACJ1B,OAAA;UAAAsB,QAAA,GAAG,gBAAc,EAACS,OAAO,CAACgB,WAAW,IAAI,CAAC;QAAA;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/C1B,OAAA;UAAAsB,QAAA,GAAG,qBACa,EAACS,OAAO,CAACiB,UAAU,IAAI,CAAC;QAAA;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC;MAAA,GAhCCK,OAAO,CAAChB,GAAG;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAiCb,CAAC;IAEV,CAAC,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACxB,EAAA,CApFID,YAAY;AAAAgD,EAAA,GAAZhD,YAAY;AAsFlB,eAAeA,YAAY;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}